name: CD

on:
  push:
    branches: [main]

jobs:
  deploy:
    name: Deploy to Production
    uses: ArkeonProject/organization-tools/.github/workflows/reusable/cd-node-vercel.yml@v1.0.0
    with:
      node-version: '20'
      package-manager: 'pnpm'
      environment: 'production'
    secrets:
      VERCEL_TOKEN: ${{ secrets.VERCEL_TOKEN }}
      VERCEL_ORG_ID: ${{ secrets.VERCEL_ORG_ID }}
      VERCEL_PROJECT_ID: ${{ secrets.VERCEL_PROJECT_ID }}
      VITE_SUPABASE_URL: ${{ secrets.VITE_SUPABASE_URL }}
      VITE_SUPABASE_ANON_KEY: ${{ secrets.VITE_SUPABASE_ANON_KEY }}